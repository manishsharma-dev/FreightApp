<div class="main-content">
  <div class="container-fluid main-content-panel">
    <div class="row">
      <div class="col-md-12">
        <div class="card admin-card">
          <form [formGroup]="form">
            <div class="card-header card-header-rose card-header-icon">
              <i class="material-icons back-btn" matTooltip="Go back" (click)="goBack()">undo</i>
              <h2 class="card-title"> {{cardTitle}} User</h2>
            </div>
            <div class="card-body">
              <div class="container">
                <div class="row">
                  <div class="col-md-6"></div>
                  <div class="col-md-6">
                    <button cButton class="px-4 float-right" color="primary">Export as Excel</button>
                  </div>
                </div>              
                <div class="row">                  
                  <div class="col-md-6 col-xs-12 control-margin">
                    <div class="form-group">
                      <label cLabel for="userName">User Name</label>
                      <input cFormControl type="text" class="form-control" placeholder="Enter User Name"
                        formControlName="userName">
                      <div
                        *ngIf="form.controls['userName'].invalid && (formSubmitted || form.controls['userName'].dirty || form.controls['userName'].touched)"
                        class="alert alert-danger">
                        <div *ngIf="form.controls['userName']['errors']['required']">
                          User Name is required.
                        </div>
                        <div *ngIf="form.controls['userName']['errors']['minlength']">
                          minimum 2 characters required
                        </div>
                        <div *ngIf="form.controls['userName']['errors']['maxlength']">
                          maximum 50 characters allowed
                        </div>
                        <div *ngIf="form.controls['userName']['errors']['pattern']">
                          Invalid name
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-6 col-xs-12 control-margin">
                    <div class="form-group">
                      <label cLabel for="userName">Email</label>
                      <input cFormControl type="email" class="form-control" placeholder="Enter Email"
                        formControlName="email">
                      <div
                        *ngIf="form.controls['email'].invalid && (formSubmitted || form.controls['email'].dirty || form.controls['email'].touched)"
                        class="alert alert-danger">
                        <div *ngIf="form.controls['email']['errors']['required']">
                          email is required.
                        </div>
                        <div *ngIf="form.controls['email']['errors']['pattern']">
                          Invalid email
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  <div class="col-md-6 col-xs-12 control-margin" *ngIf="cardTitle !='Edit'">
                    <div class="form-group">
                      <label cLabel for="userName">Password</label>
                      <input cFormControl type="{{passwordType}}" class="form-control" placeholder="Enter password"
                        formControlName="password">
                      <div
                        *ngIf="form.controls['password'].invalid && (formSubmitted || form.controls['password'].dirty || form.controls['password'].touched)"
                        class="alert alert-danger">
                        <div *ngIf="form.controls['password']['errors']['required']">
                          password is required.
                        </div>
                      </div>
                    </div>
                    <div class="form-group">
                      <div class="togglebutton">
                        <label>
                          <input type="checkbox" formControlName="passwordVisible">
                          <span class="toggle"></span>
                          {{passwordType == 'password' ? 'show' : 'hide' }} password
                        </label>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-6 col-xs-12 control-margin" *ngIf="cardTitle !='Edit'">
                    <div class="form-group">
                      <label cLabel for="userName">Confirm Password</label>
                      <input cFormControl type="password" class="form-control" placeholder="confirm password"
                        formControlName="confirm_password">
                      <div
                        *ngIf="form.controls['confirm_password'].invalid && (formSubmitted || form.controls['confirm_password'].dirty || form.controls['confirm_password'].touched)"
                        class="alert alert-danger">
                        <div *ngIf="form.controls['confirm_password']['errors']['required']">
                          confirm password is required.
                        </div>
                      </div>
                      <div
                        *ngIf="!form.controls['confirm_password']['invalid'] && form.errors['passwordError'] && (form.touched || form.dirty)"
                        class="alert alert-danger">
                        Password mismatch
                      </div>
                    </div>
                  </div>

                  <div class="col-md-6 col-xs-12 control-margin">
                    <div class="form-group">
                      <label cLabel for="userName">Corporate</label>
                      <select cFormControl class="form-control" formControlName="corporate" name="corporate">
                        <option value="">none</option>
                        <option *ngFor="let org of corporateList" [value]="org.id">{{org.name}}</option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>


            </div>
            <div class="card-footer text-right">
              <div class="form-group text-center">
                <button cButton class="px-4" color="primary" type="submit" (click)="addAdmin()">Submit</button>
                <button cButton class="px-4 mx-4" color="secondary" type="reset">Clear</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>